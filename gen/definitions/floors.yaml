---
name: Floors
rest_endpoint: /dna/intent/api/v1/sites/bulk
get_rest_endpoint: /dna/intent/api/v1/sites
put_rest_endpoint: /dna/intent/api/v2/floors
res_description: Manages multiple floors within a single resource, specifying a map of floors as input. This resource is designed for bulk operations to efficiently create multiple floors at once. To retrieve existing floors, use the data source `catalystcenter_sites` with type filter set to 'floor'
root_list: true
update_computed: true
doc_category: Sites
no_data_source: true
attributes:
  - tf_name: scope
    type: String
    description: >-
      Optional scope to limit management to specific floors under a site hierarchy.
      When specified, only floors under this hierarchy will be managed by this resource.
      This allows multiple resource instances to manage floors in different hierarchies
      independently (e.g., "Global/Poland/Warsaw/Building1" for Building1 floors,
      "Global/Germany/Berlin/Building2" for Building2 floors). If not specified, all
      floors are managed (backward compatible).
    example: Global/Poland
  - tf_name: floors
    type: Map
    response_data_path: response
    max_elements_in_root_list: 1000
    mandatory: true
    description: Map of floors, keyed by parent_name_hierarchy/name (e.g., "Global/USA/Building1/Floor1")
    map_key_example: Global/USA/Building1/Floor1
    attributes:
      - model_name: id
        response_data_path: id
        type: String
        computed: true
        computed_refresh_value: true
        description: The id of the floor
        exclude_test: true
      - model_name: parentId
        response_data_path: parentId
        type: String
        computed: true
        description: The parent ID of the floor
        exclude_test: true
      - model_name: parentNameHierarchy
        type: String
        mandatory: true
        key_part: true
        description: Parent hierarchical name (e.g., Global/USA/Building1)
        example: Global/USA/Building1
      - model_name: name
        response_data_path: name
        type: String
        mandatory: true
        key_part: true
        description: Floor name
        example: Floor1
      - model_name: type
        type: String
        value: floor
        write_only: true
        description: Site type (always 'floor' for floors)
      - model_name: floorNumber
        response_data_path: floorNumber
        mandatory: true
        type: Int64
        description: Floor number
        example: 1
      - model_name: rfModel
        response_data_path: rfModel
        type: String
        enum_values:
          [
            "Cubes And Walled Offices",
            "Drywall Office Only",
            "Indoor High Ceiling",
            "Outdoor Open Space",
            "Free Space",
          ]
        mandatory: true
        description: The RF model
        example: Drywall Office Only
      - model_name: width
        response_data_path: width
        type: Float64
        mandatory: true
        description: Width
        example: 40
      - model_name: length
        response_data_path: length
        type: Float64
        mandatory: true
        description: Length
        example: 50.5
      - model_name: height
        response_data_path: height
        type: Float64
        mandatory: true
        description: Height
        example: 3.5
      - model_name: unitsOfMeasure
        response_data_path: unitsOfMeasure
        type: String
        enum_values: ["feet", "meters"]
        mandatory: true
        description: The unit of measurement
        example: meters
test_prerequisites: |
  resource "catalystcenter_areas" "test" {
    areas = {
      "Global/USA" = {
        parent_name_hierarchy = "Global"
        name                  = "USA"
      }
    }
  }
  resource "catalystcenter_buildings" "test" {
    buildings = {
      "Global/USA/Building1" = {
        parent_name_hierarchy = "Global/USA"
        name                  = "Building1"
        country               = "United States"
        address               = "150 W Tasman Dr, San Jose"
        latitude              = 37.338
        longitude             = -121.832
      }
    }
    depends_on = [catalystcenter_areas.test]
  }
