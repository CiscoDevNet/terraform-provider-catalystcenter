---
name: Provision Access Points
# manual updates to Read function in resource file
rest_endpoint: /dna/intent/api/v1/wirelessAccessPoints/provision
res_description: Manages the provisioning of Access Points within a single resource, specifying a list of access points to be provisioned in selected site.
no_delete: true
no_import: true
no_update: true
no_read: true
no_data_source: true
doc_category: Inventory
mutex: true
test_tags: [INVENTORY]
attributes:
  - model_name: networkDevices
    type: Set
    mandatory: true
    description: List of access points to be provisioned
    attributes:
      - model_name: id
        type: String
        description: ID of the provisioned AP device
        exclude_test: true
      - model_name: deviceId
        type: String
        description: ID of the Access Point to be provisioned
        mandatory: true
        exclude_test: true
      - model_name: meshRole
        type: String
        description: Mesh Role (Applicable only when AP is in Bridge Mode)
        mandatory: false
        exclude_test: true
      - tf_name: reprovision
        description: Flag to indicate whether the device should be reprovisioned. If set to `true`, reprovisioning will be triggered on every Terraform apply
        type: Bool
        example: false
        requires_replace: true
        exclude_test: true
  - model_name: rfProfileName
    requires_replace: true
    mandatory: true
    description: RF Profile Name. RF Profile is not allowed for custom AP Zones.
    type: String
    enum_values: [LOW, TYPICAL, HIGH]
    example: TYPICAL
  - model_name: apZoneName
    requires_replace: true
    mandatory: false
    description: AP Zone Name. A custom AP Zone should be passed if no rfProfileName is provided.
    type: String
    exclude_test: true
  - model_name: siteId
    id: true
    description: ID of the site this network device needs to be provisioned
    type: String
    example: 5e6f7b3a-2b0b-4a7d-8b1c-0d4b1cd5e1b1
    test_value: catalystcenter_area.test.id 
test_prerequisites: |
  data "catalystcenter_site" "test" {
    name_hierarchy = "Global"
  }
  resource "catalystcenter_area" "test" {
    name      = "Area1"
    parent_id = data.catalystcenter_site.test.id
  }